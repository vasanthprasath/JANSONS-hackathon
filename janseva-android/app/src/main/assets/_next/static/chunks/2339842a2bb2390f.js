(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,13147,72520,e=>{"use strict";var t=e.i(43476),s=e.i(91432),r=e.i(67881);let a=(0,e.i(75254).default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);e.s(["ArrowRight",()=>a],72520);var l=e.i(22016),i=e.i(71645);function n({complaintId:e,status:n,className:c="",size:d="default",variant:o="default",fullWidth:u=!1}){let{user:x,isLoading:h}=(0,s.useAuth)(),[m,f]=(0,i.useState)(!1);if((0,i.useEffect)(()=>{f(!0)},[]),!m||h||!x)return null;let g=x.role;if("citizen"===g)return null;let p=n.toLowerCase(),b="",y="Manage";return("worker"===g?(b=`/dashboard/worker/${e}`,y=["in progress","in_progress"].includes(p)?"Finish Work":"submitted"===p?"View Assignment":"View Details"):["admin","municipal_officer","zonal_officer"].includes(g)&&(b=`/dashboard/authority/resolve/${e}`,y=["work completed","work_completed"].includes(p)?"Verify Work":"submitted"===p?"Assign Worker":"Manage Content"),b)?(0,t.jsx)(l.default,{href:b,className:u?"w-full":"",children:(0,t.jsxs)(r.Button,{size:d,variant:o,className:`${c} ${u?"w-full":""}`,children:[y," ",(0,t.jsx)(a,{className:"ml-2 h-4 w-4"})]})}):null}e.s(["default",()=>n],13147)},94179,e=>{"use strict";var t=e.i(43476),s=e.i(47163);function r({className:e,variant:r="default",...a}){return(0,t.jsx)("div",{className:(0,s.cn)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2",{default:"border-transparent bg-blue-600 text-white hover:bg-blue-600/80",secondary:"border-transparent bg-slate-100 text-slate-900 hover:bg-slate-100/80",destructive:"border-transparent bg-red-500 text-white hover:bg-red-500/80",outline:"text-slate-950",success:"border-transparent bg-green-500 text-white",warning:"border-transparent bg-amber-500 text-white"}[r],e),...a})}e.s(["Badge",()=>r])},63209,e=>{"use strict";let t=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],63209)},87413,78894,e=>{"use strict";var t=e.i(43476),s=e.i(94179),r=e.i(75254);let a=(0,r.default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["AlertTriangle",()=>a],78894);var l=e.i(63209);let i=(0,r.default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);function n({priority:e,size:r="default"}){if(!e)return null;let n="bg-slate-100 text-slate-700",c=(0,t.jsx)(i,{className:"h-3 w-3 mr-1"});switch(e){case"Emergency":n="bg-red-100 text-red-700 border-red-200 animate-pulse-slow",c=(0,t.jsx)(a,{className:"h-3 w-3 mr-1"});break;case"Moderate":n="bg-yellow-100 text-yellow-800 border-yellow-200",c=(0,t.jsx)(l.AlertCircle,{className:"h-3 w-3 mr-1"});break;case"Casual":n="bg-green-100 text-green-700 border-green-200",c=(0,t.jsx)(i,{className:"h-3 w-3 mr-1"})}return(0,t.jsxs)(s.Badge,{variant:"outline",className:`${n} ${"sm"===r?"px-1.5 py-0.5 text-[10px]":"px-2.5 py-0.5 text-xs"} font-medium border`,children:[c,e]})}e.s(["default",()=>n],87413)},3116,e=>{"use strict";let t=(0,e.i(75254).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>t],3116)},4179,e=>{"use strict";var t=e.i(43476),s=e.i(91432),r=e.i(71645),a=e.i(18566),l=e.i(70065),i=e.i(94179),n=e.i(46897),c=e.i(3116);let d=(0,e.i(75254).default)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);var o=e.i(13147),u=e.i(87413);function x(){let{user:x}=(0,s.useAuth)(),h=(0,a.useRouter)(),[m,f]=(0,r.useState)([]),[g,p]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{if(!x||"worker"!==x.role){x?.role!=="worker"&&h.push("/dashboard");return}e.A(48764).then(({getComplaints:e})=>{f(e().filter(e=>e.workerId===x.id)),p(!1)})},[x,h]),(0,t.jsxs)("div",{className:"min-h-screen bg-slate-50 pb-20 p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:"Work Orders"}),(0,t.jsx)("p",{className:"text-sm text-slate-500",children:"Tasks assigned to you"})]}),(0,t.jsx)("div",{className:"h-10 w-10 bg-orange-100 rounded-full flex items-center justify-center text-orange-600",children:(0,t.jsx)(d,{className:"h-5 w-5"})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[0===m.length&&!g&&(0,t.jsx)(l.Card,{className:"border-dashed border-2 bg-slate-50/50",children:(0,t.jsxs)(l.CardContent,{className:"flex flex-col items-center justify-center py-10 text-center",children:[(0,t.jsx)("div",{className:"h-12 w-12 bg-slate-100 rounded-full flex items-center justify-center mb-3",children:(0,t.jsx)(d,{className:"h-6 w-6 text-slate-400"})}),(0,t.jsx)("h3",{className:"font-medium text-slate-900",children:"No Active Assignments"}),(0,t.jsx)("p",{className:"text-xs text-slate-500 max-w-[200px] mt-1",children:"You have no pending work orders. Check back later or contact supervisor."})]})}),m.map(e=>(0,t.jsxs)(l.Card,{className:"overflow-hidden border-slate-200",children:[(0,t.jsxs)(l.CardHeader,{className:"pb-2",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-1",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(i.Badge,{variant:"outline",children:e.category}),(0,t.jsx)(u.default,{priority:e.priorityType,size:"sm"})]}),(0,t.jsx)(i.Badge,{className:"Work Completed"===e.status?"bg-purple-100 text-purple-700 hover:bg-purple-100":"In Progress"===e.status?"bg-blue-100 text-blue-700 hover:bg-blue-100":"bg-orange-100 text-orange-700 hover:bg-orange-100",children:"Submitted"===e.status?"Pending Start":"Work Completed"===e.status?"Pending Verification":e.status})]}),(0,t.jsx)(l.CardTitle,{className:"text-base text-slate-900",children:e.title}),(0,t.jsx)(l.CardDescription,{className:"line-clamp-1",children:e.description})]}),(0,t.jsxs)(l.CardContent,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 text-xs text-slate-500 mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(c.Clock,{className:"h-3 w-3"}),(0,t.jsxs)("span",{children:["Assigned: ",e.assignedDate?new Date(e.assignedDate).toLocaleDateString():"N/A"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(n.MapPin,{className:"h-3 w-3"}),(0,t.jsx)("span",{children:"Location View"})]})]}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsx)(o.default,{complaintId:e.id,status:e.status,fullWidth:!0,className:"bg-slate-900 hover:bg-slate-800"})})]})]},e.id))]})]})}e.s(["default",()=>x],4179)},48764,e=>{e.v(t=>Promise.all(["static/chunks/2d75012020b741be.js"].map(t=>e.l(t))).then(()=>t(69259)))}]);