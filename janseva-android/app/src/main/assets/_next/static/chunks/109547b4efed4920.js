(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3116,e=>{"use strict";let t=(0,e.i(75254).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>t],3116)},94179,e=>{"use strict";var t=e.i(43476),s=e.i(47163);function a({className:e,variant:a="default",...r}){return(0,t.jsx)("div",{className:(0,s.cn)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2",{default:"border-transparent bg-blue-600 text-white hover:bg-blue-600/80",secondary:"border-transparent bg-slate-100 text-slate-900 hover:bg-slate-100/80",destructive:"border-transparent bg-red-500 text-white hover:bg-red-500/80",outline:"text-slate-950",success:"border-transparent bg-green-500 text-white",warning:"border-transparent bg-amber-500 text-white"}[a],e),...r})}e.s(["Badge",()=>a])},63209,e=>{"use strict";let t=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],63209)},95468,e=>{"use strict";let t=(0,e.i(75254).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],95468)},78928,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(91432),r=e.i(70065),l=e.i(94179),i=e.i(67881),d=e.i(22016);let c=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var n=e.i(3116),o=e.i(95468),x=e.i(63209);function h(){let{user:h}=(0,a.useAuth)(),[m,u]=(0,s.useState)([]),[b,f]=(0,s.useState)({pending:0,resolved:0,delayed:0}),[g,v]=(0,s.useState)(!0);(0,s.useEffect)(()=>{e.A(48764).then(({getComplaints:e,checkOverdueComplaints:t})=>{t();let s=e(),a=s.filter(e=>"Submitted"===e.status||"In Progress"===e.status).length;f({pending:a,resolved:s.filter(e=>"Resolved"===e.status).length,delayed:s.filter(e=>"Delayed"===e.status).length});let r=s;h?.role==="worker"&&(r=s.filter(e=>e.workerId===h.id)),u(r.slice(0,3).map(e=>({id:e.id,title:e.title,status:e.status,date:new Date(e.date).toLocaleDateString()}))),v(!1)})},[h]);let p=[{label:"Pending",value:b.pending,icon:n.Clock,color:"text-amber-500",bg:"bg-amber-50"},{label:"Resolved",value:b.resolved,icon:o.CheckCircle2,color:"text-green-500",bg:"bg-green-50"},{label:"Delayed",value:b.delayed,icon:x.AlertCircle,color:"text-red-500",bg:"bg-red-50"}],j=["municipal_officer","zonal_officer","admin"].includes(h?.role||"");return(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:["Hello, ",h?.name||"Citizen"," ðŸ‘‹"]}),(0,t.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:h?.role==="worker"?"Ready for field work today?":j?"Monitoring city services":"Helping you fix your city"})]}),(0,t.jsx)(d.default,{href:"/dashboard/profile",children:(0,t.jsx)("img",{src:h?.avatar||"https://api.dicebear.com/7.x/avataaars/svg?seed=fallback",alt:"Profile",className:"h-10 w-10 rounded-full border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800"})})]}),h?.role==="citizen"&&(0,t.jsxs)(r.Card,{className:"bg-gradient-to-r from-blue-600 to-indigo-600 border-0 text-white overflow-hidden relative",children:[(0,t.jsx)("div",{className:"absolute right-0 top-0 h-full w-1/3 bg-white/10 -skew-x-12 transform translate-x-8"}),(0,t.jsxs)(r.CardContent,{className:"p-6 flex flex-col items-start gap-4 relative z-10",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-lg",children:"Spot an issue?"}),(0,t.jsx)("p",{className:"text-blue-100 text-sm",children:"Report it now and track resolution in real-time."})]}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsx)(d.default,{href:"/dashboard/create",children:(0,t.jsxs)(i.Button,{size:"sm",variant:"secondary",className:"font-semibold text-blue-700",children:[(0,t.jsx)(c,{className:"mr-2 h-4 w-4"}),"New Complaint"]})})})]})]}),h?.role==="worker"&&(0,t.jsx)(r.Card,{className:"bg-gradient-to-r from-orange-500 to-amber-600 border-0 text-white overflow-hidden relative",children:(0,t.jsxs)(r.CardContent,{className:"p-6 flex flex-col items-start gap-4 relative z-10",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-lg",children:"Active Assignments"}),(0,t.jsx)("p",{className:"text-amber-100 text-sm",children:"Check your work orders and update status on-the-go."})]}),(0,t.jsx)(d.default,{href:"/dashboard/worker",children:(0,t.jsx)(i.Button,{size:"sm",variant:"secondary",className:"font-semibold text-amber-700",children:"Start Working"})})]})}),j&&(0,t.jsx)(r.Card,{className:"bg-gradient-to-r from-slate-800 to-slate-900 border-0 text-white overflow-hidden relative",children:(0,t.jsxs)(r.CardContent,{className:"p-6 flex flex-col items-start gap-4 relative z-10",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-lg",children:"Control Panel"}),(0,t.jsx)("p",{className:"text-slate-300 text-sm",children:"Review grievances, assign workers, and verify tasks."})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(d.default,{href:"/dashboard/authority",children:(0,t.jsx)(i.Button,{size:"sm",variant:"secondary",className:"font-semibold text-slate-800",children:"Manage Portal"})}),(0,t.jsx)(d.default,{href:"/dashboard/analytics",children:(0,t.jsx)(i.Button,{size:"sm",className:"bg-slate-700 hover:bg-slate-600 text-white",children:"City Metrics"})})]})]})}),(0,t.jsx)("div",{className:"grid grid-cols-3 gap-3",children:p.map(e=>(0,t.jsxs)("div",{className:"bg-white dark:bg-slate-900 rounded-xl p-3 border border-slate-100 dark:border-slate-800 shadow-sm flex flex-col items-center justify-center gap-2",children:[(0,t.jsx)("div",{className:`p-2 rounded-full ${e.bg} ${e.color} dark:bg-opacity-10`,children:(0,t.jsx)(e.icon,{className:"h-4 w-4"})}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("span",{className:"block text-xl font-bold text-slate-900 dark:text-slate-100",children:e.value}),(0,t.jsx)("span",{className:"text-[10px] text-slate-500 dark:text-slate-400 uppercase tracking-wide",children:e.label})]})]},e.label))}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h3",{className:"font-semibold text-slate-900 dark:text-slate-100",children:h?.role==="worker"?"Your Assigned Tasks":"Recent Activity"}),(0,t.jsx)(d.default,{href:h?.role==="worker"?"/dashboard/worker":"/dashboard/track",className:"text-xs text-blue-600 dark:text-blue-400 font-medium hover:underline",children:"View All"})]}),(0,t.jsx)("div",{className:"space-y-3",children:g?(0,t.jsx)("div",{className:"text-center py-6 text-slate-400 text-xs",children:"Loading activity..."}):m.length>0?m.map(e=>(0,t.jsx)(r.Card,{className:"overflow-hidden border-slate-100 dark:border-slate-800 shadow-sm",children:(0,t.jsxs)("div",{className:"p-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:`h-2 w-2 rounded-full ${"Resolved"===e.status?"bg-green-500":"In Progress"===e.status?"bg-blue-500":"bg-amber-500"}`}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-sm text-slate-900 dark:text-slate-100",children:e.title}),(0,t.jsxs)("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[e.id," â€¢ ",e.date]})]})]}),(0,t.jsx)(l.Badge,{variant:"Resolved"===e.status?"success":"secondary",className:"text-[10px]",children:e.status})]})},e.id)):(0,t.jsxs)("div",{className:"text-center py-8 bg-slate-50 dark:bg-slate-800/50 rounded-lg border border-dashed border-slate-200 dark:border-slate-700",children:[(0,t.jsx)("p",{className:"text-slate-400 dark:text-slate-500 text-sm",children:"No activity yet."}),(0,t.jsx)("p",{className:"text-slate-300 dark:text-slate-600 text-xs mt-1",children:h?.role==="worker"?"Check with your supervisor for tasks.":"Submit your first grievance!"})]})})]})]})}e.s(["default",()=>h],78928)},48764,e=>{e.v(t=>Promise.all(["static/chunks/2d75012020b741be.js"].map(t=>e.l(t))).then(()=>t(69259)))}]);